# Generated by Django 5.1 on 2025-04-02 07:59

from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ("oncology", "0004_remove_genomicvariant_aminoacid_change_type_and_more"),
        ("terminology", "0006_rename_racecategory_race_and_more"),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.RemoveConstraint(
            model_name="genomicvariant",
            name="valid_genomic_hgvs",
        ),
        migrations.RemoveConstraint(
            model_name="genomicvariant",
            name="valid_dna_hgvs",
        ),
        migrations.RemoveField(
            model_name="genomicvariant",
            name="genomic_hgvs",
        ),
        migrations.AddConstraint(
            model_name="genomicvariant",
            constraint=models.CheckConstraint(
                condition=models.Q(
                    ("dna_hgvs__isnull", True),
                    (
                        "dna_hgvs__regex",
                        "(?:(?:(?:NC_|AC_|NG_|NT_|NW_|NZ_)\\d+(?:\\.\\d{1,3})?)|(?:ENSG\\d+(?:\\.\\d{1,3})?)|(?:LRG_\\d+):g)|(?:(?:(?:(?:NC_|AC_|NG_|NT_|NW_|NZ_)\\d+(?:\\.\\d{1,3})?)|(?:ENSG\\d+(?:\\.\\d{1,3})?)|(?:LRG_\\d+))?\\(?((?:(?:NM_|NR_|XM_|XR_)\\d+(?:\\.\\d{1,3})?)|(?:ENST\\d+(?:\\.\\d{1,3})?)|(?:LRG_\\d+t\\d{1,3}))\\)?:c)\\.((?:(?:(?:(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)|\\((?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)_(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)\\))_(?:(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)|\\((?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)_(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)\\)))|(?:(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)|\\((?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)_(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)\\)))=|(?:(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)|\\((?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)_(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)\\))(?:A|C|G|T|B|D|H|K|M|N|R|S|V|W|Y|X|-)+>(?:A|C|G|T|B|D|H|K|M|N|R|S|V|W|Y|X|-)+|(?:(?:(?:(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)|\\((?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)_(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)\\))_(?:(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)|\\((?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)_(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)\\)))|(?:(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)|\\((?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)_(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)\\)))delins\\[(?:(?:NC_|AC_|NG_|NT_|NW_|NZ_)\\d+(?:\\.\\d{1,3})?)|(?:ENSG\\d+(?:\\.\\d{1,3})?)|(?:LRG_\\d+):g\\.(?:(?:(?:(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)|\\((?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)_(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)\\))_(?:(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)|\\((?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)_(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)\\)))|(?:(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)|\\((?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)_(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)\\)))\\]|(?:(?:(?:(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)|\\((?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)_(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)\\))_(?:(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)|\\((?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)_(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)\\)))|(?:(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)|\\((?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)_(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)\\)))ins\\[(?:(?:NC_|AC_|NG_|NT_|NW_|NZ_)\\d+(?:\\.\\d{1,3})?)|(?:ENSG\\d+(?:\\.\\d{1,3})?)|(?:LRG_\\d+):g\\.(?:(?:(?:(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)|\\((?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)_(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)\\))_(?:(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)|\\((?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)_(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)\\)))|(?:(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)|\\((?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)_(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)\\)))\\]\\sand\\s(?:(?:NC_|AC_|NG_|NT_|NW_|NZ_)\\d+(?:\\.\\d{1,3})?)|(?:ENSG\\d+(?:\\.\\d{1,3})?)|(?:LRG_\\d+):g\\.(?:(?:(?:(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)|\\((?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)_(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)\\))_(?:(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)|\\((?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)_(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)\\)))|(?:(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)|\\((?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)_(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)\\)))del|(?:(?:(?:(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)|\\((?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)_(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)\\))_(?:(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)|\\((?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)_(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)\\)))|(?:(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)|\\((?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)_(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)\\)))delins(?:A|C|G|T|B|D|H|K|M|N|R|S|V|W|Y|X|-)+|(?:(?:(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)|\\((?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)_(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)\\))_(?:(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)|\\((?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)_(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)\\)))ins(?:(?:A|C|G|T|B|D|H|K|M|N|R|S|V|W|Y|X|-)+|(?:(?:(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)|\\((?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)_(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)\\))_(?:(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)|\\((?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)_(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)\\))))|(?:(?:(?:(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)|\\((?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)_(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)\\))_(?:(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)|\\((?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)_(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)\\)))|(?:(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)|\\((?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)_(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)\\)))del|(?:(?:(?:(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)|\\((?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)_(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)\\))_(?:(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)|\\((?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)_(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)\\)))|(?:(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)|\\((?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)_(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)\\)))dup|(?:(?:(?:(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)|\\((?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)_(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)\\))_(?:(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)|\\((?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)_(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)\\)))|(?:(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)|\\((?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)_(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)\\)))inv|(?:(?:(?:(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)|\\((?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)_(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)\\))_(?:(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)|\\((?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)_(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)\\)))|(?:(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)|\\((?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)_(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)\\)))(?:(?:A|C|G|T|B|D|H|K|M|N|R|S|V|W|Y|X|-)+)?\\[(?:\\d+|(?:\\(\\d+_\\d+\\)))\\]|(?:(?:(?:(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)|\\((?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)_(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)\\))_(?:(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)|\\((?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)_(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)\\)))|(?:(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)|\\((?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)_(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)\\)))\\|gom|(?:(?:(?:(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)|\\((?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)_(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)\\))_(?:(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)|\\((?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)_(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)\\)))|(?:(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)|\\((?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)_(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)\\)))\\|lom|(?:(?:(?:(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)|\\((?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)_(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)\\))_(?:(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)|\\((?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)_(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)\\)))|(?:(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)|\\((?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)_(?:\\?|\\*|(?:\\+|-)?\\d+(?:(?:\\+|-)?\\d+)?)\\)))\\|met=)",
                    ),
                    _connector="OR",
                ),
                name="valid_dna_hgvs",
                violation_error_message="DNA HGVS must be a valid 'c.'-HGVS expression.",
            ),
        ),
    ]

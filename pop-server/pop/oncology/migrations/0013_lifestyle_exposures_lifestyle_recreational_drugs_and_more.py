# Generated by Django 5.1 on 2025-01-08 13:48

import django.db.models.deletion
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('oncology', '0012_performancestatus_radiotherapy_radiotherapydosage_and_more'),
        ('terminology', '0005_rename_uscoresmokingstatusobservationcodes_smokingstatus_and_more'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.AddField(
            model_name='lifestyle',
            name='exposures',
            field=models.ManyToManyField(help_text='Environmental or occupational exposures to hazards or carcinogenic agents', related_name='+', to='terminology.exposureagent', verbose_name='Exposures'),
        ),
        migrations.AddField(
            model_name='lifestyle',
            name='recreational_drugs',
            field=models.ManyToManyField(help_text='Any recreational drug(s) used by the patient', related_name='+', to='terminology.recreationaldrug', verbose_name='Recreational drugs'),
        ),
        migrations.AddField(
            model_name='lifestyle',
            name='smoking_status',
            field=models.ForeignKey(blank=True, help_text='Frequency of alcohol consumption', null=True, on_delete=django.db.models.deletion.PROTECT, related_name='+', to='terminology.smokingstatus', verbose_name='Alcohol consumption'),
        ),
        migrations.AddField(
            model_name='lifestyle',
            name='updated_by',
            field=models.ManyToManyField(help_text='The user(s) who updated the data since its creation', related_name='+', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='performancestatus',
            name='case',
            field=models.ForeignKey(help_text="Indicates the case of the patient who's performance status is assesed", on_delete=django.db.models.deletion.CASCADE, related_name='performance_status', to='oncology.patientcase', verbose_name='Patient case'),
        ),
        migrations.AddField(
            model_name='performancestatus',
            name='created_by',
            field=models.ForeignKey(help_text='The user who created the original data', null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='performancestatus',
            name='updated_by',
            field=models.ManyToManyField(help_text='The user(s) who updated the data since its creation', related_name='+', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='radiotherapy',
            name='case',
            field=models.ForeignKey(help_text='Indicates the case of the patient who received the radiotherapy', on_delete=django.db.models.deletion.CASCADE, related_name='radiotherapies', to='oncology.patientcase', verbose_name='Patient case'),
        ),
        migrations.AddField(
            model_name='radiotherapy',
            name='created_by',
            field=models.ForeignKey(help_text='The user who created the original data', null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='radiotherapy',
            name='targeted_entities',
            field=models.ManyToManyField(help_text='References to the neoplastic entities that were targeted by the radiotherapy', related_name='radiotherapies', to='oncology.neoplasticentity', verbose_name='Targeted neoplastic entities'),
        ),
        migrations.AddField(
            model_name='radiotherapy',
            name='termination_reason',
            field=models.ForeignKey(blank=True, help_text='Explanation for the premature or planned termination of the radiotherapy', null=True, on_delete=django.db.models.deletion.PROTECT, related_name='+', to='terminology.treatmentterminationreason', verbose_name='Termination reason'),
        ),
        migrations.AddField(
            model_name='radiotherapy',
            name='updated_by',
            field=models.ManyToManyField(help_text='The user(s) who updated the data since its creation', related_name='+', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='radiotherapydosage',
            name='created_by',
            field=models.ForeignKey(help_text='The user who created the original data', null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='radiotherapydosage',
            name='irradiated_volume',
            field=models.ForeignKey(help_text='Anatomical location of the irradiated volume', on_delete=django.db.models.deletion.PROTECT, related_name='+', to='terminology.radiotherapytreatmentlocation', verbose_name='Irradiated volume'),
        ),
        migrations.AddField(
            model_name='radiotherapydosage',
            name='irradiated_volume_morphology',
            field=models.ForeignKey(blank=True, help_text='Morphology of the anatomical location of the irradiated volume', null=True, on_delete=django.db.models.deletion.PROTECT, related_name='+', to='terminology.radiotherapyvolumetype', verbose_name='Irradiated volume morphology'),
        ),
        migrations.AddField(
            model_name='radiotherapydosage',
            name='irradiated_volume_qualifier',
            field=models.ForeignKey(blank=True, help_text='General qualifier for the anatomical location of the irradiated volume', null=True, on_delete=django.db.models.deletion.PROTECT, related_name='+', to='terminology.radiotherapytreatmentlocationqualifier', verbose_name='Irradiated volume qualifier'),
        ),
        migrations.AddField(
            model_name='radiotherapydosage',
            name='radiotherapy',
            field=models.ForeignKey(help_text='Indicates the radoptherapy where this dosage was delivered', on_delete=django.db.models.deletion.CASCADE, related_name='dosages', to='oncology.radiotherapy', verbose_name='Radiotherapy'),
        ),
        migrations.AddField(
            model_name='radiotherapydosage',
            name='updated_by',
            field=models.ManyToManyField(help_text='The user(s) who updated the data since its creation', related_name='+', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='radiotherapysetting',
            name='created_by',
            field=models.ForeignKey(help_text='The user who created the original data', null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='radiotherapysetting',
            name='modality',
            field=models.ForeignKey(help_text='Modality of external beam or brachytherapy radiation procedures', on_delete=django.db.models.deletion.PROTECT, related_name='+', to='terminology.radiotherapymodality', verbose_name='Modality'),
        ),
        migrations.AddField(
            model_name='radiotherapysetting',
            name='radiotherapy',
            field=models.ForeignKey(help_text='Indicates the radoptherapy where this dosage was delivered', on_delete=django.db.models.deletion.CASCADE, related_name='settings', to='oncology.radiotherapy', verbose_name='Radiotherapy'),
        ),
        migrations.AddField(
            model_name='radiotherapysetting',
            name='technique',
            field=models.ForeignKey(help_text='Technique of external beam or brachytherapy radiation procedures', on_delete=django.db.models.deletion.PROTECT, related_name='+', to='terminology.radiotherapytechnique', verbose_name='Technique'),
        ),
        migrations.AddField(
            model_name='radiotherapysetting',
            name='updated_by',
            field=models.ManyToManyField(help_text='The user(s) who updated the data since its creation', related_name='+', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='surgery',
            name='bodysite',
            field=models.ForeignKey(blank=True, help_text='Anatomical location of the surgery', null=True, on_delete=django.db.models.deletion.PROTECT, related_name='+', to='terminology.cancertopography', verbose_name='Anatomical location'),
        ),
        migrations.AddField(
            model_name='surgery',
            name='bodysite_laterality',
            field=models.ForeignKey(blank=True, help_text='Laterality for the anatomical location of the surgery', null=True, on_delete=django.db.models.deletion.PROTECT, related_name='+', to='terminology.lateralityqualifier', verbose_name='Anatomical location laterality'),
        ),
        migrations.AddField(
            model_name='surgery',
            name='bodysite_qualifier',
            field=models.ForeignKey(blank=True, help_text='General qualifier for the anatomical location of the surgery', null=True, on_delete=django.db.models.deletion.PROTECT, related_name='+', to='terminology.bodylocationqualifier', verbose_name='Anatomical location qualifier'),
        ),
        migrations.AddField(
            model_name='surgery',
            name='case',
            field=models.ForeignKey(help_text='Indicates the case of the patient who received the surgical procedure', on_delete=django.db.models.deletion.CASCADE, related_name='surgeries', to='oncology.patientcase', verbose_name='Patient case'),
        ),
        migrations.AddField(
            model_name='surgery',
            name='created_by',
            field=models.ForeignKey(help_text='The user who created the original data', null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='surgery',
            name='outcome',
            field=models.ForeignKey(blank=True, help_text='The outcome of the surgery', null=True, on_delete=django.db.models.deletion.PROTECT, related_name='+', to='terminology.procedureoutcome', verbose_name='Outcome'),
        ),
        migrations.AddField(
            model_name='surgery',
            name='procedure',
            field=models.ForeignKey(help_text='The specific surgical procedure that was performed', on_delete=django.db.models.deletion.PROTECT, related_name='+', to='terminology.surgicalprocedure', verbose_name='Surgical procedure'),
        ),
        migrations.AddField(
            model_name='surgery',
            name='targeted_entities',
            field=models.ManyToManyField(help_text='References to the neoplastic entities that were targeted by the surgery', related_name='surgeries', to='oncology.neoplasticentity', verbose_name='Targeted neoplastic entities'),
        ),
        migrations.AddField(
            model_name='surgery',
            name='updated_by',
            field=models.ManyToManyField(help_text='The user(s) who updated the data since its creation', related_name='+', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddConstraint(
            model_name='performancestatus',
            constraint=models.CheckConstraint(condition=models.Q(('ecog_score__isnull', False), ('karnofsky_score__isnull', False), _connector='OR'), name='at_least_one_score_must_be_set'),
        ),
    ]
